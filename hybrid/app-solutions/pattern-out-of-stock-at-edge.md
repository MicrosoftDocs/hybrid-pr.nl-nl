---
title: Geen voorraad detectie met Azure en Azure Stack Edge
description: Meer informatie over hoe u Azure en Azure Stack Edge-Services kunt gebruiken om de detectie van de voor Raad uit te voeren.
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: 865f63bc4234e50ed169aa29cefdb1886750594c
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 06/17/2020
ms.locfileid: "84910451"
---
# <a name="out-of-stock-detection-at-the-edge-pattern"></a><span data-ttu-id="bbc2e-103">Geen voorraad detectie op het rand patroon</span><span class="sxs-lookup"><span data-stu-id="bbc2e-103">Out of stock detection at the edge pattern</span></span>

<span data-ttu-id="bbc2e-104">Dit patroon illustreert hoe u kunt bepalen of rekken met een Azure Stack rand of Azure IoT Edge apparaat en netwerk camera's geen voorraad items bevatten.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-104">This pattern illustrates how to determine if shelves have out of stock items using an Azure Stack Edge or Azure IoT Edge device and network cameras.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="bbc2e-105">Context en probleem</span><span class="sxs-lookup"><span data-stu-id="bbc2e-105">Context and problem</span></span>

<span data-ttu-id="bbc2e-106">De verkoop van fysieke winkels gaat verloren omdat wanneer klanten een item zoeken, het niet aanwezig is op het schap.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-106">Physical retail stores lose sales because when customers look for an item, it's not present on the shelf.</span></span> <span data-ttu-id="bbc2e-107">Het item kan echter aanwezig zijn in de back-up van de Store en niet opnieuw worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-107">However, the item could have been in the back of the store and not been restocked.</span></span> <span data-ttu-id="bbc2e-108">Winkels willen hun mede werkers efficiënter gebruiken en automatisch op de hoogte worden gesteld wanneer items opnieuw moeten worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-108">Stores would like to use their staff more efficiently and get automatically notified when items need restocking.</span></span>

## <a name="solution"></a><span data-ttu-id="bbc2e-109">Oplossing</span><span class="sxs-lookup"><span data-stu-id="bbc2e-109">Solution</span></span>

<span data-ttu-id="bbc2e-110">In het voor beeld van de oplossing wordt een edge-apparaat gebruikt, zoals een Azure Stack rand in elke Store, waarmee gegevens efficiënt worden verwerkt van camera's in de Store.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-110">The solution example uses an edge device, like an Azure Stack Edge in each store, which efficiently processes data from cameras in the store.</span></span> <span data-ttu-id="bbc2e-111">Met dit geoptimaliseerde ontwerp kunnen winkels alleen relevante gebeurtenissen en installatie kopieën verzenden naar de Cloud.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-111">This optimized design lets stores send only relevant events and images to the cloud.</span></span> <span data-ttu-id="bbc2e-112">Het ontwerp bespaart band breedte, opslag ruimte en zorgt voor de privacy van klanten.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-112">The design saves bandwidth, storage space, and ensures customer privacy.</span></span> <span data-ttu-id="bbc2e-113">Als frames van elke camera worden gelezen, wordt de installatie kopie door een ML-model verwerkt en worden er geen voorraad gebieden weer gegeven.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-113">As frames are read from each camera, an ML model processes the image and returns any out of stock areas.</span></span> <span data-ttu-id="bbc2e-114">De afbeeldings-en buiten-voorraad gebieden worden weer gegeven op een lokale web-app.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-114">The image and out of stock areas are displayed on a local web app.</span></span> <span data-ttu-id="bbc2e-115">Deze gegevens kunnen naar een time series Insight-omgeving worden verzonden om inzicht in Power BI weer te geven.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-115">This data can be sent to a Time Series Insight environment to show insights in Power BI.</span></span>

![Niet-voorradige oplossings architectuur](media/pattern-out-of-stock-at-edge/solution-architecture.png)

<span data-ttu-id="bbc2e-117">Hier volgt een beschrijving van de werking van de oplossing:</span><span class="sxs-lookup"><span data-stu-id="bbc2e-117">Here's how the solution works:</span></span>

1. <span data-ttu-id="bbc2e-118">Installatie kopieën worden vastgelegd van een netwerk camera over HTTP of RTSP.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-118">Images are captured from a network camera over HTTP or RTSP.</span></span>
2. <span data-ttu-id="bbc2e-119">De grootte van de installatie kopie wordt gewijzigd en verzonden naar het stuur programma voor ingrijpen, dat communiceert met het ML-model om te bepalen of er niet-voorraad afbeeldingen zijn.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-119">The image is resized and sent to the inference driver, which communicates with the ML model to determine if there are any out of stock images.</span></span>
3. <span data-ttu-id="bbc2e-120">Het model ML retourneert een van de voorraad gebieden.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-120">The ML model returns any out of stock areas.</span></span>
4. <span data-ttu-id="bbc2e-121">Het stuur programma voor delooiing uploadt de onbewerkte installatie kopie naar een BLOB (indien opgegeven) en verstuurt de resultaten van het model naar Azure IoT Hub en een selectie kader processor op het apparaat.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-121">The inferencing driver uploads the raw image to a blob (if specified), and sends the results from the model to Azure IoT Hub and a bounding box processor on the device.</span></span>
5. <span data-ttu-id="bbc2e-122">De selectie kader processor voegt selectie kaders toe aan de afbeelding en slaat het pad naar de afbeelding op in een in-memory database.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-122">The bounding box processor adds bounding boxes to the image and caches the image path in an in-memory database.</span></span>
6. <span data-ttu-id="bbc2e-123">De web-app zoekt naar installatie kopieën en geeft deze weer in de ontvangen volg orde.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-123">The web app queries for images and shows them in the order received.</span></span>
7. <span data-ttu-id="bbc2e-124">Berichten van IoT Hub worden geaggregeerd in Time Series Insights.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-124">Messages from IoT Hub are aggregated in Time Series Insights.</span></span>
8. <span data-ttu-id="bbc2e-125">In Power BI wordt een interactief rapport weer gegeven van items die gedurende een bepaalde periode in de loop van de tijd vallen met de gegevens van Time Series Insights.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-125">Power BI displays an interactive report of out of stock items over time with the data from Time Series Insights.</span></span>


## <a name="components"></a><span data-ttu-id="bbc2e-126">Onderdelen</span><span class="sxs-lookup"><span data-stu-id="bbc2e-126">Components</span></span>

<span data-ttu-id="bbc2e-127">Deze oplossing maakt gebruik van de volgende onderdelen:</span><span class="sxs-lookup"><span data-stu-id="bbc2e-127">This solution uses the following components:</span></span>

| <span data-ttu-id="bbc2e-128">Laag</span><span class="sxs-lookup"><span data-stu-id="bbc2e-128">Layer</span></span> | <span data-ttu-id="bbc2e-129">Onderdeel</span><span class="sxs-lookup"><span data-stu-id="bbc2e-129">Component</span></span> | <span data-ttu-id="bbc2e-130">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="bbc2e-130">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="bbc2e-131">On-premises hardware</span><span class="sxs-lookup"><span data-stu-id="bbc2e-131">On-premises hardware</span></span> | <span data-ttu-id="bbc2e-132">Netwerk camera</span><span class="sxs-lookup"><span data-stu-id="bbc2e-132">Network camera</span></span> | <span data-ttu-id="bbc2e-133">Er is een netwerk camera vereist, met een HTTP-of RTSP-feed om de installatie kopieën op te geven.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-133">A network camera is required, with either an HTTP or RTSP feed to provide the images for inference.</span></span> |
| <span data-ttu-id="bbc2e-134">Azure</span><span class="sxs-lookup"><span data-stu-id="bbc2e-134">Azure</span></span> | <span data-ttu-id="bbc2e-135">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="bbc2e-135">Azure IoT Hub</span></span> | <span data-ttu-id="bbc2e-136">[Azure IOT hub](/azure/iot-hub/) verwerkt apparaat-inrichting en-berichten voor de apparaten van de rand.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-136">[Azure IoT Hub](/azure/iot-hub/) handles device provisioning and messaging for the edge devices.</span></span> |
|  | <span data-ttu-id="bbc2e-137">Azure Time Series Insights</span><span class="sxs-lookup"><span data-stu-id="bbc2e-137">Azure Time Series Insights</span></span> | <span data-ttu-id="bbc2e-138">[Azure time series Insights](/azure/time-series-insights/) worden de berichten van IOT hub opgeslagen voor visualisatie.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-138">[Azure Time Series Insights](/azure/time-series-insights/) stores the messages from IoT Hub for visualization.</span></span> |
|  | <span data-ttu-id="bbc2e-139">Power BI</span><span class="sxs-lookup"><span data-stu-id="bbc2e-139">Power BI</span></span> | <span data-ttu-id="bbc2e-140">[Micro soft power bi](https://powerbi.microsoft.com/) voorziet in zakelijke rapporten over gebeurtenissen die zich niet in de voor Raad bevinden.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-140">[Microsoft Power BI](https://powerbi.microsoft.com/) provides business-focused reports of out of stock events.</span></span> <span data-ttu-id="bbc2e-141">Power BI biedt een gebruiks vriendelijke dash board-interface voor het weer geven van de uitvoer van Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-141">Power BI provides an easy-to-use dashboard interface for viewing the output from Azure Stream Analytics.</span></span> |
| <span data-ttu-id="bbc2e-142">Azure Stack rand of</span><span class="sxs-lookup"><span data-stu-id="bbc2e-142">Azure Stack Edge or</span></span><br><span data-ttu-id="bbc2e-143">Azure IoT Edge apparaat</span><span class="sxs-lookup"><span data-stu-id="bbc2e-143">Azure IoT Edge device</span></span> | <span data-ttu-id="bbc2e-144">Azure IoT Edge</span><span class="sxs-lookup"><span data-stu-id="bbc2e-144">Azure IoT Edge</span></span> | <span data-ttu-id="bbc2e-145">[Azure IOT Edge](/azure/iot-edge/) organiseert de runtime voor on-premises containers en beheert het beheer en de updates van apparaten.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-145">[Azure IoT Edge](/azure/iot-edge/) orchestrates the runtime for the on-premises containers and handles device management and updates.</span></span>|
| | <span data-ttu-id="bbc2e-146">Azure project brainwave</span><span class="sxs-lookup"><span data-stu-id="bbc2e-146">Azure project brainwave</span></span> | <span data-ttu-id="bbc2e-147">Op een Azure Stack edge-apparaat gebruikt [project brainwave](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) veld-Programmeer bare poort matrices (fpga's) om ml te versnellen.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-147">On an Azure Stack Edge device, [Project Brainwave](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) uses Field-Programmable Gate Arrays (FPGAs) to accelerate ML inferencing.</span></span>|

## <a name="issues-and-considerations"></a><span data-ttu-id="bbc2e-148">Problemen en overwegingen</span><span class="sxs-lookup"><span data-stu-id="bbc2e-148">Issues and considerations</span></span>

<span data-ttu-id="bbc2e-149">Houd rekening met de volgende punten wanneer u bepaalt hoe u deze oplossing implementeert:</span><span class="sxs-lookup"><span data-stu-id="bbc2e-149">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="bbc2e-150">Schaalbaarheid</span><span class="sxs-lookup"><span data-stu-id="bbc2e-150">Scalability</span></span>

<span data-ttu-id="bbc2e-151">De meeste machine learning modellen kunnen alleen worden uitgevoerd op een bepaald aantal frames per seconde, afhankelijk van de beschik bare hardware.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-151">Most machine learning models can only run at a certain number of frames per second, depending on the provided hardware.</span></span> <span data-ttu-id="bbc2e-152">Bepaal de optimale sampling frequentie van uw camera (s) om ervoor te zorgen dat er geen back-up wordt gemaakt van de ML-pijp lijn.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-152">Determine the optimal sample rate from your camera(s) to ensure that the ML pipeline doesn't back up.</span></span> <span data-ttu-id="bbc2e-153">Verschillende typen hardware verwerken verschillende aantallen camera's en frame snelheden.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-153">Different types of hardware will handle different numbers of cameras and frame rates.</span></span>

### <a name="availability"></a><span data-ttu-id="bbc2e-154">Beschikbaarheid</span><span class="sxs-lookup"><span data-stu-id="bbc2e-154">Availability</span></span>

<span data-ttu-id="bbc2e-155">Het is belang rijk om te bepalen wat er kan gebeuren als de verbinding met het edge-apparaat is verbroken.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-155">It's important to consider what might happen if the edge device loses connectivity.</span></span> <span data-ttu-id="bbc2e-156">Houd er rekening mee dat de gegevens van het Time Series Insights en Power BI dash board verloren kunnen gaan.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-156">Consider what data might be lost from the Time Series Insights and Power BI dashboard.</span></span> <span data-ttu-id="bbc2e-157">De voorziene voorbeeld oplossing is niet ontworpen om Maxi maal beschikbaar te zijn.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-157">The example solution as provided isn't designed to be highly available.</span></span>

### <a name="manageability"></a><span data-ttu-id="bbc2e-158">Beheerbaarheid</span><span class="sxs-lookup"><span data-stu-id="bbc2e-158">Manageability</span></span>

<span data-ttu-id="bbc2e-159">Deze oplossing kan veel apparaten en locaties omvatten, wat een onhandigheid kan oplevert.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-159">This solution can span many devices and locations, which could get unwieldy.</span></span> <span data-ttu-id="bbc2e-160">Met de IoT-services van Azure kunnen nieuwe locaties en apparaten automatisch online worden gebracht en up-to-date blijven.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-160">Azure's IoT services can automatically bring new locations and devices online and keep them up to date.</span></span> <span data-ttu-id="bbc2e-161">De juiste procedures voor gegevens beheer moeten ook worden gevolgd.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-161">Proper data governance procedures must be followed as well.</span></span>

### <a name="security"></a><span data-ttu-id="bbc2e-162">Beveiliging</span><span class="sxs-lookup"><span data-stu-id="bbc2e-162">Security</span></span>

<span data-ttu-id="bbc2e-163">Met dit patroon worden mogelijk gevoelige gegevens verwerkt.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-163">This pattern handles potentially sensitive data.</span></span> <span data-ttu-id="bbc2e-164">Zorg ervoor dat sleutels regel matig worden geroteerd en dat de machtigingen voor het Azure Storage account en lokale shares correct zijn ingesteld.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-164">Make sure keys are regularly rotated and the permissions on the Azure Storage Account and local shares are correctly set.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bbc2e-165">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="bbc2e-165">Next steps</span></span>

<span data-ttu-id="bbc2e-166">Voor meer informatie over de onderwerpen die in dit artikel worden geïntroduceerd:</span><span class="sxs-lookup"><span data-stu-id="bbc2e-166">To learn more about topics introduced in this article:</span></span>
- <span data-ttu-id="bbc2e-167">Er worden meerdere IoT-gerelateerde services gebruikt in dit patroon, waaronder [Azure IOT Edge](/azure/iot-edge/), [Azure IOT hub](/azure/iot-hub/)en [Azure time series Insights](/azure/time-series-insights/).</span><span class="sxs-lookup"><span data-stu-id="bbc2e-167">Multiple IoT related services are used in this pattern, including [Azure IoT Edge](/azure/iot-edge/), [Azure IoT Hub](/azure/iot-hub/), and [Azure Time Series Insights](/azure/time-series-insights/).</span></span>
- <span data-ttu-id="bbc2e-168">Voor meer informatie over micro soft project brainwave raadpleegt u [de aankondiging van de blog](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) en uitchecken [van de Azure-versnelde machine learning met project brainwave-video](https://www.youtube.com/watch?v=DJfMobMjCX0).</span><span class="sxs-lookup"><span data-stu-id="bbc2e-168">To learn more about Microsoft Project Brainwave, see [the blog announcement](https://blogs.microsoft.com/ai/build-2018-project-brainwave/) and checkout out the [Azure Accelerated Machine Learning with Project Brainwave video](https://www.youtube.com/watch?v=DJfMobMjCX0).</span></span>
- <span data-ttu-id="bbc2e-169">Bekijk de overwegingen voor het [ontwerpen van hybride apps](overview-app-design-considerations.md) voor meer informatie over aanbevolen procedures en voor het verkrijgen van antwoorden op eventuele aanvullende vragen.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-169">See [Hybrid app design considerations](overview-app-design-considerations.md) to learn more about best practices and to get answers to any additional questions.</span></span>
- <span data-ttu-id="bbc2e-170">Bekijk de [Azure stack-familie van producten en oplossingen](/azure-stack) voor meer informatie over de volledige Port Folio van producten en oplossingen.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-170">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="bbc2e-171">Wanneer u klaar bent om het voor beeld van de oplossing te testen, gaat u verder met de [gelaagde gegevens voor de implementatie handleiding voor analyse oplossingen](https://aka.ms/edgeinferencingdeploy).</span><span class="sxs-lookup"><span data-stu-id="bbc2e-171">When you're ready to test the solution example, continue with the [Tiered data for analytics solution deployment guide](https://aka.ms/edgeinferencingdeploy).</span></span> <span data-ttu-id="bbc2e-172">De implementatie handleiding bevat stapsgewijze instructies voor het implementeren en testen van de onderdelen.</span><span class="sxs-lookup"><span data-stu-id="bbc2e-172">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
